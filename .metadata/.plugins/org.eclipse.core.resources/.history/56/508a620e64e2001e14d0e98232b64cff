/*
 * Copyright 2024 Tedd OKANO
 *
 * SPDX-License-Identifier: BSD-3-Clause
 *
 */

#ifndef	R01_DEMO_PCA9957
#define	R01_DEMO_PCA9957

#define ARDUINO_LED_NXP_ARD_H

#include	"r01lib.h"

class PCA9957 : public SPI
{
public:
	enum	{
		MODE1	= 0x00,
		MODE2,
		LEDOUT0	= 0x08,
		PWM0	= 0x10,
		PWMALL	= 0x6A,
		IREFALL
	};
	
	enum	{
		N_CH	= 24,
		N_REG	= 0x6B,
	};

	PCA9957( SPI &spi );
	~PCA9957();
	
	void	reg( uint8_t reg_addr, uint8_t value );
	uint8_t	reg( uint8_t reg_addr );
	void	pwm( uint8_t channel, uint8_t value );
	void	dump( void );

private:
	SPI		&_spi;
};

#endif
